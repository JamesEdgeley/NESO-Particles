<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NESO Particles: NESO::Particles::DepartingIdentify Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NESO Particles
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>NESO</b></li><li class="navelem"><b>Particles</b></li><li class="navelem"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html">DepartingIdentify</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classNESO_1_1Particles_1_1DepartingIdentify-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">NESO::Particles::DepartingIdentify Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="departing__particle__identification_8hpp_source.html">departing_particle_identification.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for NESO::Particles::DepartingIdentify:</div>
<div class="dyncontent">
<div class="center"><img src="classNESO_1_1Particles_1_1DepartingIdentify__coll__graph.png" border="0" usemap="#aNESO_1_1Particles_1_1DepartingIdentify_coll__map" alt="Collaboration graph"/></div>
<map name="aNESO_1_1Particles_1_1DepartingIdentify_coll__map" id="aNESO_1_1Particles_1_1DepartingIdentify_coll__map">
<area shape="rect" title=" " alt="" coords="134,183,327,224"/>
<area shape="rect" href="classNESO_1_1Particles_1_1BufferDevice.html" title=" " alt="" coords="5,5,219,47"/>
<area shape="rect" href="classNESO_1_1Particles_1_1BufferDeviceHost.html" title=" " alt="" coords="243,5,456,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aac36b74a2c87b8ba7034114877075acb"><td class="memItemLeft" align="right" valign="top"><a id="aac36b74a2c87b8ba7034114877075acb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#aac36b74a2c87b8ba7034114877075acb">DepartingIdentify</a> (const <a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html">DepartingIdentify</a> &amp;st)=delete</td></tr>
<tr class="memdesc:aac36b74a2c87b8ba7034114877075acb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable (implicit) copies. <br /></td></tr>
<tr class="separator:aac36b74a2c87b8ba7034114877075acb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e529d1bdf306bf1831f1ae99ae1a641"><td class="memItemLeft" align="right" valign="top"><a id="a0e529d1bdf306bf1831f1ae99ae1a641"></a>
<a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html">DepartingIdentify</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#a0e529d1bdf306bf1831f1ae99ae1a641">operator=</a> (<a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html">DepartingIdentify</a> const &amp;a)=delete</td></tr>
<tr class="memdesc:a0e529d1bdf306bf1831f1ae99ae1a641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable (implicit) copies. <br /></td></tr>
<tr class="separator:a0e529d1bdf306bf1831f1ae99ae1a641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5817946925112d45d76ca575aab74b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#ab5817946925112d45d76ca575aab74b6">DepartingIdentify</a> (SYCLTargetSharedPtr sycl_target)</td></tr>
<tr class="separator:ab5817946925112d45d76ca575aab74b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d076b06b5db8e3eb555baf0cb8f9b90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#a9d076b06b5db8e3eb555baf0cb8f9b90">set_mpi_rank_dat</a> (ParticleDatSharedPtr&lt; INT &gt; <a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#aac0ba1c3e5de874e3bf432c9971e0517">mpi_rank_dat</a>)</td></tr>
<tr class="separator:a9d076b06b5db8e3eb555baf0cb8f9b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78353941655376f9bdf480e0eb41dc7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#a78353941655376f9bdf480e0eb41dc7a">identify</a> (const int rank_component=0)</td></tr>
<tr class="separator:a78353941655376f9bdf480e0eb41dc7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af0732059f969e722310d5046dde08bcb"><td class="memItemLeft" align="right" valign="top"><a id="af0732059f969e722310d5046dde08bcb"></a>
<a class="el" href="classNESO_1_1Particles_1_1BufferDeviceHost.html">BufferDeviceHost</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#af0732059f969e722310d5046dde08bcb">dh_send_ranks</a></td></tr>
<tr class="memdesc:af0732059f969e722310d5046dde08bcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of unique MPI ranks that particles should be sent to. <br /></td></tr>
<tr class="separator:af0732059f969e722310d5046dde08bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50ec25a7c282c5e9c3006e26f7cc495"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNESO_1_1Particles_1_1BufferDeviceHost.html">BufferDeviceHost</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#ac50ec25a7c282c5e9c3006e26f7cc495">dh_send_counts_all_ranks</a></td></tr>
<tr class="separator:ac50ec25a7c282c5e9c3006e26f7cc495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95fdd4a5ad91fc81d2b99d4784c21a32"><td class="memItemLeft" align="right" valign="top"><a id="a95fdd4a5ad91fc81d2b99d4784c21a32"></a>
<a class="el" href="classNESO_1_1Particles_1_1BufferDeviceHost.html">BufferDeviceHost</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#a95fdd4a5ad91fc81d2b99d4784c21a32">dh_send_rank_map</a></td></tr>
<tr class="memdesc:a95fdd4a5ad91fc81d2b99d4784c21a32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map from MPI ranks to an index that orders the send ranks. <br /></td></tr>
<tr class="separator:a95fdd4a5ad91fc81d2b99d4784c21a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec32f699a13496ed792c06ff60bd52b8"><td class="memItemLeft" align="right" valign="top"><a id="aec32f699a13496ed792c06ff60bd52b8"></a>
<a class="el" href="classNESO_1_1Particles_1_1BufferDevice.html">BufferDevice</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#aec32f699a13496ed792c06ff60bd52b8">d_pack_cells</a></td></tr>
<tr class="memdesc:aec32f699a13496ed792c06ff60bd52b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array that contains the source cells of departing particles. <br /></td></tr>
<tr class="separator:aec32f699a13496ed792c06ff60bd52b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fa10ec0b803463395e1c6a3d209fc44"><td class="memItemLeft" align="right" valign="top"><a id="a7fa10ec0b803463395e1c6a3d209fc44"></a>
<a class="el" href="classNESO_1_1Particles_1_1BufferDevice.html">BufferDevice</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#a7fa10ec0b803463395e1c6a3d209fc44">d_pack_layers_src</a></td></tr>
<tr class="memdesc:a7fa10ec0b803463395e1c6a3d209fc44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array that contains the source layers (rows) of departing particles. <br /></td></tr>
<tr class="separator:a7fa10ec0b803463395e1c6a3d209fc44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac73f269ed574ecef837ac7f2d801a463"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNESO_1_1Particles_1_1BufferDevice.html">BufferDevice</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#ac73f269ed574ecef837ac7f2d801a463">d_pack_layers_dst</a></td></tr>
<tr class="separator:ac73f269ed574ecef837ac7f2d801a463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1129f19f164bcd22c5fb2d820675c39f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNESO_1_1Particles_1_1BufferDeviceHost.html">BufferDeviceHost</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#a1129f19f164bcd22c5fb2d820675c39f">dh_num_ranks_send</a></td></tr>
<tr class="separator:a1129f19f164bcd22c5fb2d820675c39f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9e8d0adee8e0feeaa4fa2e3e9f6ec04"><td class="memItemLeft" align="right" valign="top"><a id="ae9e8d0adee8e0feeaa4fa2e3e9f6ec04"></a>
<a class="el" href="classNESO_1_1Particles_1_1BufferDeviceHost.html">BufferDeviceHost</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#ae9e8d0adee8e0feeaa4fa2e3e9f6ec04">dh_num_particle_send</a></td></tr>
<tr class="memdesc:ae9e8d0adee8e0feeaa4fa2e3e9f6ec04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size one array to accumulate the total number of leaving particles. <br /></td></tr>
<tr class="separator:ae9e8d0adee8e0feeaa4fa2e3e9f6ec04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0ba1c3e5de874e3bf432c9971e0517"><td class="memItemLeft" align="right" valign="top"><a id="aac0ba1c3e5de874e3bf432c9971e0517"></a>
ParticleDatSharedPtr&lt; INT &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNESO_1_1Particles_1_1DepartingIdentify.html#aac0ba1c3e5de874e3bf432c9971e0517">mpi_rank_dat</a></td></tr>
<tr class="memdesc:aac0ba1c3e5de874e3bf432c9971e0517"><td class="mdescLeft">&#160;</td><td class="mdescRight">ParticleDat containing MPI ranks. <br /></td></tr>
<tr class="separator:aac0ba1c3e5de874e3bf432c9971e0517"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to identify which particles are leaving and MPI rank based on which MPI rank is stored in the NESO_MPI_RANK ParticleDat </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab5817946925112d45d76ca575aab74b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5817946925112d45d76ca575aab74b6">&#9670;&nbsp;</a></span>DepartingIdentify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">NESO::Particles::DepartingIdentify::DepartingIdentify </td>
          <td>(</td>
          <td class="paramtype">SYCLTargetSharedPtr&#160;</td>
          <td class="paramname"><em>sycl_target</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new instance of this class.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sycl_target</td><td>SYCLTargetSharedPtr to use as compute device. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a78353941655376f9bdf480e0eb41dc7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78353941655376f9bdf480e0eb41dc7a">&#9670;&nbsp;</a></span>identify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void NESO::Particles::DepartingIdentify::identify </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>rank_component</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Identify particles which should be packed and sent to remote MPI ranks. The argument indicates which component of the MPI ranks dat that should be inspected for MPI rank. The intention is that component 0 indicates remote MPI ranks where the particle should be sent through a global communication pattern. Component 1 indicates a remote rank where the particle should be sent through a neighbour based "local" communication pattern. Negative MPI ranks are ignored.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rank_component</td><td>Component to inspect for MPI rank. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d076b06b5db8e3eb555baf0cb8f9b90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d076b06b5db8e3eb555baf0cb8f9b90">&#9670;&nbsp;</a></span>set_mpi_rank_dat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void NESO::Particles::DepartingIdentify::set_mpi_rank_dat </td>
          <td>(</td>
          <td class="paramtype">ParticleDatSharedPtr&lt; INT &gt;&#160;</td>
          <td class="paramname"><em>mpi_rank_dat</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the ParticleDat that contains particle MPI ranks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mpi_rank_dat</td><td>ParticleDat containing MPI ranks. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac73f269ed574ecef837ac7f2d801a463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac73f269ed574ecef837ac7f2d801a463">&#9670;&nbsp;</a></span>d_pack_layers_dst</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNESO_1_1Particles_1_1BufferDevice.html">BufferDevice</a>&lt;int&gt; NESO::Particles::DepartingIdentify::d_pack_layers_dst</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Array that contains the destination layers in the packing buffer of departing particles. </p>

</div>
</div>
<a id="a1129f19f164bcd22c5fb2d820675c39f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1129f19f164bcd22c5fb2d820675c39f">&#9670;&nbsp;</a></span>dh_num_ranks_send</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNESO_1_1Particles_1_1BufferDeviceHost.html">BufferDeviceHost</a>&lt;int&gt; NESO::Particles::DepartingIdentify::dh_num_ranks_send</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size one array to accumulate the number of remote ranks particles should be sent to. </p>

</div>
</div>
<a id="ac50ec25a7c282c5e9c3006e26f7cc495"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac50ec25a7c282c5e9c3006e26f7cc495">&#9670;&nbsp;</a></span>dh_send_counts_all_ranks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNESO_1_1Particles_1_1BufferDeviceHost.html">BufferDeviceHost</a>&lt;int&gt; NESO::Particles::DepartingIdentify::dh_send_counts_all_ranks</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Array of length equal to the communicator size indicating how many particles should be sent to each rank. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/tmp/repo-checkout/NESO-Particles/include/<a class="el" href="departing__particle__identification_8hpp_source.html">departing_particle_identification.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
